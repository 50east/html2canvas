/*
 html2canvas v0.32 <http://html2canvas.hertzen.com>
 Copyright (c) 2011 Niklas von Hertzen. All rights reserved.
 http://www.twitter.com/niklasvh

 Released under MIT License
*/
(function(f,N,A){function B(a){n.logging&&f.console&&f.console.log&&f.console.log(a)}function U(a,c){var e=[];return{storage:e,width:a,height:c,fillRect:function(){e.push({type:"function",name:"fillRect",arguments:arguments})},drawImage:function(){e.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){e.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,c){e.push({type:"variable",name:a,arguments:c})}}}var n={logging:!1};n.log=B;n.Util=
{};n.Util.backgroundImage=function(a){if(/data:image\/.*;base64,/i.test(a)||/^(-webkit|-moz|linear-gradient|-o-)/.test(a))return a;a.toLowerCase().substr(0,5)==='url("'?(a=a.substr(5),a=a.substr(0,a.length-2)):(a=a.substr(4),a=a.substr(0,a.length-1));return a};n.Util.Bounds=function(a){var c={};if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),c.top=a.top,c.bottom=a.bottom||a.top+a.height,c.left=a.left,c.width=a.width||a.right-a.left,c.height=a.height||a.bottom-a.top,c};n.Util.getCSS=
function(a,c){return $(a).css(c)};n.Util.Extend=function(a,c){for(var e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);return c};n.Util.Children=function(a){var c;try{c=$(a).contents()}catch(e){B("html2canvas.Util.Children failed with exception: "+e.message),c=[]}return c};n.Generate={};n.Generate.Gradient=function(a,c){function e(a){for(var b=-1,i="",c;b++<a.length;)if(c=a.charAt(b),c===")"){i+=c;x.push(i);for(i="";b++<a.length&&a.charAt(b)!==",";);}else i+=c}var n=N.createElement("canvas"),D=n.getContext("2d"),
h,u=0,b=0,f=0,y=0,x=[],H;n.width=c.width;n.height=c.height;if(h=a.match(/-webkit-linear-gradient\((.*)\)/)){H=h[1].split(",",1)[0];e(h[1].substr(H.length+2));H=H.split(" ");for(h=0;h<H.length;h+=1)switch(H[h]){case "top":y=c.height;break;case "right":u=c.width;break;case "bottom":b=c.height;break;case "left":f=c.width}}else if(h=a.match(/-webkit-gradient\(linear, (\d+)[%]{0,1} (\d+)[%]{0,1}, (\d+)[%]{0,1} (\d+)[%]{0,1}, from\((.*)\), to\((.*)\)\)/))u=h[1]*c.width/100,b=h[2]*c.height/100,f=h[3]*c.width/
100,y=h[4]*c.height/100,x.push(h[5]),x.push(h[6]);else if(h=a.match(/-moz-linear-gradient\((\d+)[%]{0,1} (\d+)[%]{0,1}, (.*)\)/))u=h[1]*c.width/100,b=h[2]*c.width/100,f=c.width-u,y=c.height-b,e(h[3]);else return;f=D.createLinearGradient(u,b,f,y);y=1/(x.length-1);u=0;for(b=x.length;u<b;u+=1)try{f.addColorStop(y*u,x[u])}catch(i){B(["failed to add color stop: ",i,"; tried to add: ",x[u],"; stop: ",u,"; in: ",a])}D.fillStyle=f;D.fillRect(0,0,c.width,c.height);D=new Image;D.src=n.toDataURL();return D};
n.Generate.ListAlpha=function(a){var c="",e;do e=a%26,c=String.fromCharCode(e+64)+c,a/=26;while(a*26>26);return c};n.Generate.ListRoman=function(a){var c=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],e=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],n="",f,h=c.length;if(a<=0||a>=4E3)return a;for(f=0;f<h;f+=1)for(;a>=e[f];)a-=e[f],n+=c[f];return n};n.Parse=function(a,c,e){function I(g,a){var d=parseInt(t(g,a),10);return isNaN(d)?0:d}function D(g,a,d,E,b,k){k!=="transparent"&&(g.setVariable("fillStyle",
k),g.fillRect(a,d,E,b),o+=1)}function h(g,a){switch(a){case "lowercase":return g.toLowerCase();case "capitalize":return g.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(g,a,d){if(g.length>0)return a+d.toUpperCase()});case "uppercase":return g.toUpperCase();default:return g}}function u(g){return g.replace(/^\s*/g,"").replace(/\s*$/g,"")}function b(g,a,b){var b=b.ctx,E=t(g,"fontFamily"),i=t(g,"fontSize"),c=t(g,"color"),m=t(g,"textDecoration"),e=t(g,"textAlign"),p=t(g,"letterSpacing"),j,z,q=t(g,"fontWeight"),
v=t(g,"fontStyle"),f=t(g,"fontVariant"),w=0;a.nodeValue=h(a.nodeValue,t(g,"textTransform"));if(u(a.nodeValue).length>0){if(m!=="none")if(M[E+"-"+i]!==A)z=M[E+"-"+i];else{z=l.createElement("div");var g=l.createElement("img"),r=l.createElement("span"),O;z.style.visibility="hidden";z.style.fontFamily=E;z.style.fontSize=i;z.style.margin=0;z.style.padding=0;P.appendChild(z);g.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";g.width=1;g.height=1;g.style.margin=0;g.style.padding=
0;g.style.verticalAlign="baseline";r.style.fontFamily=E;r.style.fontSize=i;r.style.margin=0;r.style.padding=0;r.appendChild(l.createTextNode("Hidden Text"));z.appendChild(r);z.appendChild(g);O=g.offsetTop-r.offsetTop+1;z.removeChild(r);z.appendChild(l.createTextNode("Hidden Text"));z.style.lineHeight="normal";g.style.verticalAlign="super";g={baseline:O,lineWidth:1,middle:g.offsetTop-z.offsetTop+1};M[E+"-"+i]=g;P.removeChild(z);z=g}e=e.replace(["-webkit-auto"],["auto"]);e=k.letterRendering===!1&&/^(left|right|justify|auto)$/.test(e)&&
/^(normal|none)$/.test(p)?a.nodeValue.split(/(\b| )/):a.nodeValue.split("");switch(parseInt(q,10)){case 401:q="bold";break;case 400:q="normal"}b.setVariable("fillStyle",c);b.setVariable("font",f+" "+q+" "+v+" "+i+" "+E);b.setVariable("textAlign","left");E=a;for(i=0;i<e.length;i+=1){q=null;if(d.rangeBounds){if(m!=="none"||u(e[i]).length!==0)q=e[i],l.createRange?(j=l.createRange(),j.setStart(a,w),j.setEnd(a,w+q.length)):j=P.createTextRange(),j=j.getBoundingClientRect()?j.getBoundingClientRect():{}}else{if(typeof E.nodeValue!==
"string")continue;v=E.splitText(e[i].length);f=E.parentNode;p=l.createElement("wrapper");g=E.cloneNode(!0);p.appendChild(E.cloneNode(!0));f.replaceChild(p,E);j=n.Util.Bounds(p);q=E.nodeValue;E=v;f.replaceChild(g,p)}if(q!==null)v=j.left,f=j.bottom,p=b,u(q).length>0&&(p.fillText(q,v,f),o+=1);switch(m){case "underline":D(b,j.left,Math.round(j.top+z.baseline+z.lineWidth),j.width,1,c);break;case "overline":D(b,j.left,j.top,j.width,1,c);break;case "line-through":D(b,j.left,Math.ceil(j.top+z.middle+z.lineWidth),
j.width,1,c)}w+=e[i].length}}}function K(g){return(g=c[g])&&g.succeeded===!0?g.img:!1}function y(g,a){var d=Math.max(g.left,a.left),b=Math.max(g.top,a.top);return{left:d,top:b,width:Math.min(g.left+g.width,a.left+a.width)-d,height:Math.min(g.top+g.height,a.top+a.height)-b}}function x(g,a){if(!a)return this.zStack={zindex:0,children:[]};if(g!=="auto"){var d={zindex:g,children:[]};a.children.push(d);return d}return a}function H(g,a,d,b){for(var i=d.left,k=d.top,c=d.width,d=d.height,j,p,l,e,o,m=function(g){var a=
[],d=["Top","Right","Bottom","Left"],b;for(b=0;b<4;b+=1)a.push({width:I(g,"border"+d[b]+"Width"),color:t(g,"border"+d[b]+"Color")});return a}(g),g=0;g<4;g+=1)if(j=m[g],j.width>0){p=i;l=k;e=c;o=d-m[2].width;switch(g){case 0:o=m[0].width;break;case 1:p=i+c-m[1].width;e=m[1].width;break;case 2:l=l+d-m[2].width;o=m[2].width;break;case 3:e=m[3].width}e={left:p,top:l,width:e,height:o};b&&(e=y(e,b));e.width>0&&e.height>0&&D(a,p,l,e.width,e.height,j.color)}return m}function i(g,a,d){var i=l.createElement("valuewrap"),
k=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],c,e,j;c=0;for(e=k.length;c<e;c+=1){j=k[c];try{i.style[j]=t(g,j)}catch(m){B("html2canvas: Parse: Exception caught in renderFormValue: "+m.message)}}i.style.borderColor="black";i.style.borderStyle="solid";i.style.display="block";i.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(g.type)||g.nodeName==="SELECT")i.style.lineHeight=
t(g,"height");i.style.top=a.top+"px";i.style.left=a.left+"px";a=l.createTextNode(g.nodeName==="SELECT"?g.options[g.selectedIndex].text:g.value);i.appendChild(a);P.appendChild(i);b(g,a,d);P.removeChild(i)}function j(g,a,d){var b=function(a){return a!==A?(a.split(",")[0]||"0 0").split(" "):[t(g,"backgroundPositionX"),t(g,"backgroundPositionY")]}(t(g,"backgroundPosition")),i,k;b.length===1&&(i=b,b=[],b[0]=i,b[1]=i);b[0].toString().indexOf("%")!==-1?(k=parseFloat(b[0])/100,i=a.width*k-d.width*k):i=parseInt(b[0],
10);b[1].toString().indexOf("%")!==-1?(k=parseFloat(b[1])/100,a=a.height*k-d.height*k):a=parseInt(b[1],10);return{top:a,left:i}}function O(g,a,b,d,i,k,c,e){var j=0,m=0;c-b>0&&(j=c-b);e-d>0&&(m=e-d);g.drawImage(a,j,m,i-j,k-m,b+j,d+m,i-j,k-m);o+=1}function G(g,a,b,d,i,k,j){var j=Math.min(a.height,j),c,e;b.left-=Math.ceil(b.left/a.width)*a.width;for(e=d+b.left;e<k+d;)c=Math.floor(e+a.width)>k+d?k+d-e:a.width,O(g,a,e,i+b.top,c,j,d,i),e=Math.floor(e+a.width)}function s(a,d){var b=n.Util.Bounds(a),e=b.left,
c=b.top,m=b.width,h=b.height,f,p=t(a,"backgroundColor"),M=t(a,"position"),z,q=t(a,"opacity"),v,s;d?R={}:(R={width:Math.max(Math.max(l.body.scrollWidth,l.documentElement.scrollWidth),Math.max(l.body.offsetWidth,l.documentElement.offsetWidth),Math.max(l.body.clientWidth,l.documentElement.clientWidth)),height:Math.max(Math.max(l.body.scrollHeight,l.documentElement.scrollHeight),Math.max(l.body.offsetHeight,l.documentElement.offsetHeight),Math.max(l.body.clientHeight,l.documentElement.clientHeight))},
d={opacity:1});z=x(t(a,"zIndex"),d.zIndex);v={ctx:U(R.width||m,R.height||h),zIndex:z,opacity:q*d.opacity,cssPosition:M};if(d.clip)v.clip=n.Util.Extend({},d.clip);if(k.useOverflow===!0&&/(hidden|scroll|auto)/.test(t(a,"overflow"))===!0&&/(BODY)/i.test(a.nodeName)===!1)v.clip=v.clip?y(v.clip,b):b;M=z.children.push(v);s=z.children[M-1].ctx;s.setVariable("globalAlpha",v.opacity);q=H(a,s,b,!1);v.borders=q;S.test(a.nodeName)&&k.iframeDefault!=="transparent"&&(p=k.iframeDefault==="default"?"#efefef":k.iframeDefault);
m={left:e+q[3].width,top:c+q[0].width,width:m-(q[1].width+q[3].width),height:h-(q[0].width+q[2].width)};v.clip&&(m=y(m,v.clip));if(m.height>0&&m.width>0){D(s,m.left,m.top,m.width,m.height,p);var w=m,r=t(a,"backgroundImage"),C=t(a,"backgroundRepeat").split(",")[0],F,A,J;!/data:image\/.*;base64,/i.test(r)&&!/^(-webkit|-moz|linear-gradient|-o-)/.test(r)&&(r=r.split(",")[0]);if(typeof r!=="undefined"&&/^(1|none)$/.test(r)===!1)if(r=n.Util.backgroundImage(r),p=K(r),h=j(a,w,p),p)switch(C){case "repeat-x":G(s,
p,h,w.left,w.top,w.width,w.height);break;case "repeat-y":r=w.left;C=w.top;F=w.height;A=Math.min(p.width,w.width);h.top-=Math.ceil(h.top/p.height)*p.height;for(J=C+h.top;J<F+C;)w=Math.floor(J+p.height)>F+C?F+C-J:p.height,O(s,p,r+h.left,J,A,w,r,C),J=Math.floor(J+p.height);break;case "no-repeat":r=w.width-h.left;J=w.height-h.top;C=h.left;F=h.top;A=h.left+w.left;h=h.top+w.top;C<0?(C=Math.abs(C),A+=C,r=Math.min(w.width,p.width-C)):(r=Math.min(r,p.width),C=0);F<0?(F=Math.abs(F),h+=F,J=Math.min(w.height,
p.height-F)):(J=Math.min(J,p.height),F=0);J>0&&r>0&&(s.drawImage(p,C,F,r,J,A,h,r,J),o+=1);break;default:h.top-=Math.ceil(h.top/p.height)*p.height;for(r=w.top+h.top;r<w.height+w.top;)C=Math.min(p.height,w.height+w.top-r),C=Math.floor(r+p.height)>C+r?C+r-r:p.height,r<w.top?(F=w.top-r,r=w.top):F=0,G(s,p,h,w.left,r,w.width,C),F>0&&(h.top+=F),r=Math.floor(r+p.height)-F}else B("html2canvas: Error loading background:"+r)}switch(a.nodeName){case "IMG":v=a.getAttribute("src");(f=K(v))?(v=I(a,"paddingLeft"),
m=I(a,"paddingTop"),p=I(a,"paddingRight"),h=I(a,"paddingBottom"),s.drawImage(f,0,0,f.width,f.height,e+v+q[3].width,c+m+q[0].width,b.width-(q[1].width+q[3].width+v+p),b.height-(q[0].width+q[2].width+m+h)),o+=1):B("html2canvas: Error loading <img>:"+v);break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&a.value.length>0&&i(a,b,v);break;case "TEXTAREA":a.value.length>0&&i(a,b,v);break;case "SELECT":a.options.length>0&&i(a,b,v);break;case "LI":b=m;e=t(a,"listStylePosition");q=t(a,
"listStyleType");c=t(a,"fontWeight");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(q)){s=$(a).index()+1;switch(q){case "decimal":f=s;break;case "decimal-leading-zero":f=s.toString().length===1?"0"+s.toString():s.toString();break;case "upper-roman":f=n.Generate.ListRoman(s);break;case "lower-roman":f=n.Generate.ListRoman(s).toLowerCase();break;case "lower-alpha":f=n.Generate.ListAlpha(s).toLowerCase();break;case "upper-alpha":f=
n.Generate.ListAlpha(s)}f+=". ";v=f;q=l.createElement("boundelement");q.style.display="inline";s=a.style.listStyleType;a.style.listStyleType="none";q.appendChild(l.createTextNode(v));a.insertBefore(q,a.firstChild);v=n.Util.Bounds(q);a.removeChild(q);a.style.listStyleType=s;switch(c){case 401:c="bold";break;case 400:c="normal"}Q.setVariable("fillStyle",t(a,"color"));Q.setVariable("font",t(a,"fontVariant")+" "+c+" "+t(a,"fontStyle")+" "+t(a,"fontSize")+" "+t(a,"fontFamily"));if(e==="inside")Q.setVariable("textAlign",
"left"),b=b.left,e=v.bottom,c=Q,u(f).length>0&&(c.fillText(f,b,e),o+=1)}break;case "CANVAS":v=I(a,"paddingLeft"),m=I(a,"paddingTop"),p=I(a,"paddingRight"),h=I(a,"paddingBottom"),s.drawImage(a,0,0,a.width,a.height,e+v+q[3].width,c+m+q[0].width,b.width-(q[1].width+q[3].width+v+p),b.height-(q[0].width+q[2].width+m+h)),o+=1}return z.children[M-1]}function m(a,d){if(t(a,"display")!=="none"&&t(a,"visibility")!=="hidden"&&(d=s(a,d)||d,Q=d.ctx,!S.test(a.nodeName))){var i=n.Util.Children(a),c,e,k;c=0;for(k=
i.length;c<k;c+=1)e=i[c],e.nodeType===1?m(e,d):e.nodeType===3&&b(a,e,d)}}f.scroll(0,0);e=e||{};if(a===A)a=N.body;var d={rangeBounds:!1},k={iframeDefault:"default",ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1},o=0,M={},l=a.ownerDocument,S=RegExp("("+k.ignoreElements+")"),P=l.body,L,Q,R,T,k=n.Util.Extend(e,k),c=c||{};if(l.createRange&&(L=l.createRange(),L.getBoundingClientRect)){e=l.createElement("boundtest");e.style.height="123px";e.style.display="block";P.appendChild(e);
L.selectNode(e);L=L.getBoundingClientRect();L=L.height;if(L===123)d.rangeBounds=!0;P.removeChild(e)}var t=n.Util.getCSS,e=s(a,null);L=0;a=a.children;for(T=a.length;L<T;L+=1)m(a[L],e);return e};n.Preload=function(a,c){function e(){B("html2canvas: start: images: "+b.numLoaded+" / "+b.numTotal+" (failed: "+b.numFailed+")");!b.firstRun&&b.numLoaded>=b.numTotal&&(typeof u.complete==="function"&&u.complete(b),B("Finished loading images: # "+b.numTotal+" (failed: "+b.numFailed+")"))}function I(a,d,c){var j,
s=u.proxy,l;G.href=a;a=G.href;j="html2canvas_"+H++;c.callbackname=j;s+=s.indexOf("?")>-1?"&":"?";s+="url="+encodeURIComponent(a)+"&callback="+j;l=i.createElement("script");f[j]=function(a){a.substring(0,6)==="error:"?(c.succeeded=!1,b.numLoaded++,b.numFailed++,e()):(h(d,c),d.src=a);f[j]=A;try{delete f[j]}catch(i){}l.parentNode.removeChild(l);l=null;delete c.script;delete c.callbackname};l.setAttribute("type","text/javascript");l.setAttribute("src",s);c.script=l;f.document.body.appendChild(l)}function D(a){var d=
n.Util.Children(a),i,c=d.length,j,h=!1;for(i=0;i<c;i+=1)D(d[i]);try{h=a.nodeType}catch(f){h=!1,B("html2canvas: failed to access some element's nodeType - Exception: "+f.message)}if(h===1||h===A){try{j=n.Util.getCSS(a,"backgroundImage")}catch(s){B("html2canvas: failed to get background-image - Exception: "+s.message)}j&&j!=="1"&&j!=="none"&&(j.substring(0,7)==="-webkit"||j.substring(0,3)==="-o-"||j.substring(0,4)==="-moz"?(a=n.Generate.Gradient(j,n.Util.Bounds(a)),a!==A&&(b[j]={img:a,succeeded:!0},
b.numTotal++,b.numLoaded++,e())):(j=n.Util.backgroundImage(j.match(/data:image\/.*;base64,/i)?j:j.split(",")[0]),y.loadImage(j)))}}function h(a,d){a.onload=function(){b.numLoaded++;d.succeeded=!0;e()};a.onerror=function(){b.numLoaded++;b.numFailed++;d.succeeded=!1;e()}}var u={proxy:"http://html2canvas.appspot.com/",timeout:0},b={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},K,y,x,H=0,i=a.ownerDocument,j=i.images,O=j.length,G=i.createElement("a"),s;G.href=f.location.href;K=G.protocol+G.host;c=
c||{};u=n.Util.Extend(c,u);a=a||i.body;y={loadImage:function(a){var d,i;if(a&&b[a]===A)d=new Image,a.match(/data:image\/.*;base64,/i)?(d.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),i=b[a]={img:d},b.numTotal++,h(d,i)):(G.href=a,i=G.protocol+G.host,":"===i||i===K?(i=b[a]={img:d},b.numTotal++,h(d,i),d.src=a):u.proxy&&(i=b[a]={img:d},b.numTotal++,I(a,d,i)))},cleanupDOM:function(a){var d,i;if(!b.cleanupDone){a&&typeof a==="string"?B("html2canvas: Cleanup because: "+a):B("html2canvas: Cleanup after timeout: "+
u.timeout+" ms.");for(i in b)if(b.hasOwnProperty(i)&&(d=b[i],typeof d==="object"&&d.callbackname&&d.succeeded===A)){f[d.callbackname]=A;try{delete f[d.callbackname]}catch(c){}d.script&&d.script.parentNode&&(d.script.setAttribute("src","about:blank"),d.script.parentNode.removeChild(d.script));b.numLoaded++;b.numFailed++;B("html2canvas: Cleaned up failed img: '"+i+"' Steps: "+b.numLoaded+" / "+b.numTotal)}f.stop!==A?f.stop():N.execCommand!==A&&N.execCommand("Stop",!1);N.close!==A&&N.close();b.cleanupDone=
!0;a&&typeof a==="string"||e()}},renderingDone:function(){s&&f.clearTimeout(s)}};u.timeout>0&&(s=f.setTimeout(y.cleanupDOM,u.timeout));B("html2canvas: Preload starts: finding background-images");b.firstRun=!0;D(a);B("html2canvas: Preload: Finding images");for(x=0;x<O;x+=1)y.loadImage(j[x].getAttribute("src"));b.firstRun=!1;B("html2canvas: Preload: Done.");b.numTotal===b.numLoaded&&e();return y};n.Renderer=function(a,c){function e(a){var b=[],c=[],a=a.children,h,f,m,d;h=0;for(m=a.length;h<m;h+=1)f=
a[h],f.children&&f.children.length>0?(b.push(f),c.push(f.zindex)):u.push(f);c.sort(function(a,b){return a-b});a=0;for(h=c.length;a<h;a+=1){f=c[a];m=0;for(d=b.length;m<=d;m+=1)if(b[m].zindex===f){f=b.splice(m,1);e(f[0]);break}}}function I(a){e(a.zIndex);var c=b.getContext("2d"),f,G,s,m,d;b.width=b.style.width=!K?h.width||a.ctx.width:Math.min(y,h.width||a.ctx.width);b.height=b.style.height=!K?h.height||a.ctx.height:Math.min(y,h.height||a.ctx.height);a=c.fillStyle;c.fillStyle="#fff";c.fillRect(0,0,b.width,
b.height);c.fillStyle=a;f=0;for(G=u.length;f<G;f+=1){a=u.splice(0,1)[0];a.canvasPosition=a.canvasPosition||{};c.textBaseline="bottom";a.clip&&(c.save(),c.beginPath(),c.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),c.clip());if(a.ctx.storage){s=0;for(m=a.ctx.storage.length;s<m;s+=1)switch(d=a.ctx.storage[s],d.type){case "variable":c[d.name]=d.arguments;break;case "function":d.name==="fillRect"?(!K||d.arguments[0]+d.arguments[2]<y&&d.arguments[1]+d.arguments[3]<y)&&c.fillRect(d.arguments[0],
d.arguments[1],d.arguments[2],d.arguments[3]):d.name==="fillText"?(!K||d.arguments[1]<y&&d.arguments[2]<y)&&c.fillText(d.arguments[0],d.arguments[1],d.arguments[2]):d.name==="drawImage"&&d.arguments[8]>0&&d.arguments[7]&&c.drawImage(d.arguments[0],d.arguments[1],d.arguments[2],d.arguments[3],d.arguments[4],d.arguments[5],d.arguments[6],d.arguments[7],d.arguments[8])}}a.clip&&c.restore()}B("html2canvas: Renderer: Canvas renderer done - returning canvas obj");G=h.elements.length;return G===1&&typeof h.elements[0]===
"object"&&h.elements[0].nodeName!=="BODY"&&K===!1?(f=n.Util.Bounds(h.elements[0]),a=x.createElement("canvas"),a.width=f.width,a.height=f.height,c=a.getContext("2d"),c.drawImage(b,f.left,f.top,f.width,f.height,0,0,f.width,f.height),delete b,a):b}function D(a){e(a.zIndex);var b=x.createElementNS("http://www.w3.org/2000/svg","svg"),c=x.createElementNS("http://www.w3.org/2000/svg","defs"),f,n,m,d,k,o,y={},l,A=0;b.setAttribute("version","1.1");b.setAttribute("baseProfile","full");b.setAttribute("viewBox",
"0 0 "+Math.max(a.ctx.width,h.width)+" "+Math.max(a.ctx.height,h.height));b.setAttribute("width",Math.max(a.ctx.width,h.width)+"px");b.setAttribute("height",Math.max(a.ctx.height,h.height)+"px");b.setAttribute("preserveAspectRatio","none");b.appendChild(c);a=0;for(n=u.length;a<n;a+=1)if(d=u.splice(0,1)[0],d.canvasPosition=d.canvasPosition||{},d.ctx.storage){f=0;for(m=d.ctx.storage.length;f<m;f+=1)switch(k=d.ctx.storage[f],k.type){case "variable":y[k.name]=k.arguments;break;case "function":k.name===
"fillRect"?(o=x.createElementNS("http://www.w3.org/2000/svg","rect"),o.setAttribute("x",k.arguments[0]),o.setAttribute("y",k.arguments[1]),o.setAttribute("width",k.arguments[2]),o.setAttribute("height",k.arguments[3]),o.setAttribute("fill",y.fillStyle),b.appendChild(o)):k.name==="fillText"?(o=x.createElementNS("http://www.w3.org/2000/svg","text"),l=y.font.split(" "),o.style.fontVariant=l.splice(0,1)[0],o.style.fontWeight=l.splice(0,1)[0],o.style.fontStyle=l.splice(0,1)[0],o.style.fontSize=l.splice(0,
1)[0],o.setAttribute("x",k.arguments[1]),o.setAttribute("y",k.arguments[2]-(parseInt(o.style.fontSize,10)+3)),o.setAttribute("fill",y.fillStyle),o.style.dominantBaseline="text-before-edge",o.style.fontFamily=l.join(" "),l=x.createTextNode(k.arguments[0]),o.appendChild(l),b.appendChild(o)):k.name==="drawImage"&&k.arguments[8]>0&&k.arguments[7]&&(o=x.createElementNS("http://www.w3.org/2000/svg","clipPath"),o.setAttribute("id","clipId"+A),l=x.createElementNS("http://www.w3.org/2000/svg","rect"),l.setAttribute("x",
k.arguments[5]),l.setAttribute("y",k.arguments[6]),l.setAttribute("width",k.arguments[3]),l.setAttribute("height",k.arguments[4]),o.appendChild(l),c.appendChild(o),o=x.createElementNS("http://www.w3.org/2000/svg","image"),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",k.arguments[0].src),o.setAttribute("width",k.arguments[0].width),o.setAttribute("height",k.arguments[0].height),o.setAttribute("x",k.arguments[5]-k.arguments[1]),o.setAttribute("y",k.arguments[6]-k.arguments[2]),o.setAttribute("clip-path",
"url(#clipId"+A+")"),o.setAttribute("preserveAspectRatio","none"),b.appendChild(o),A+=1)}}B("html2canvas: Renderer: SVG Renderer done - returning SVG DOM obj");return b}var h={width:null,height:null,renderer:"canvas"},u=[],b,K=!1,y=2880,x=N,h=n.Util.Extend(c,h);switch(h.renderer.toLowerCase()){case "canvas":if(b=x.createElement("canvas"),b.getContext)return B("html2canvas: Renderer: using canvas renderer"),I(a);else{K=!0;B("html2canvas: Renderer: canvas not available, using flashcanvas");var H=x.createElement("script");
H.src=h.flashcanvas;H.onload=function(a,b){var c;if(a.onload===A)a.onreadystatechange!==A?(c=function(){a.readyState!=="loaded"&&a.readyState!=="complete"?f.setTimeout(c,250):b()},f.setTimeout(c,250)):B("html2canvas: Renderer: Can't track when flashcanvas is loaded");else return b}(H,function(){typeof f.FlashCanvas!=="undefined"&&(B("html2canvas: Renderer: Flashcanvas initialized"),f.FlashCanvas.initElement(b),I(a))});x.body.appendChild(H);return b}case "svg":if(x.createElementNS)return B("html2canvas: Renderer: using SVG renderer"),
D(a)}return this};f.html2canvas=n})(window,document);